{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { buttonProperties, getNativeProps, memoizeFunction, getId, mergeAriaAttributeValues, composeComponentAs } from '../../../Utilities';\nimport { ContextualMenuItemWrapper } from './ContextualMenuItemWrapper';\nimport { KeytipData } from '../../../KeytipData';\nimport { getIsChecked, isItemDisabled, hasSubmenu, getMenuItemAriaRole } from '../../../utilities/contextualMenu/index';\nimport { ContextualMenuItem } from '../ContextualMenuItem';\nvar ContextualMenuButton = /** @class */function (_super) {\n  __extends(ContextualMenuButton, _super);\n  function ContextualMenuButton() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._btn = React.createRef();\n    _this._getMemoizedMenuButtonKeytipProps = memoizeFunction(function (keytipProps) {\n      return __assign(__assign({}, keytipProps), {\n        hasMenu: true\n      });\n    });\n    _this._renderAriaDescription = function (ariaDescription, className) {\n      // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan\n      return ariaDescription ? React.createElement(\"span\", {\n        id: _this._ariaDescriptionId,\n        className: className\n      }, ariaDescription) : null;\n    };\n    _this._getSubmenuTarget = function () {\n      return _this._btn.current ? _this._btn.current : undefined;\n    };\n    return _this;\n  }\n  ContextualMenuButton.prototype.render = function () {\n    var _this = this;\n    var _a = this.props,\n      item = _a.item,\n      classNames = _a.classNames,\n      index = _a.index,\n      focusableElementIndex = _a.focusableElementIndex,\n      totalItemCount = _a.totalItemCount,\n      hasCheckmarks = _a.hasCheckmarks,\n      hasIcons = _a.hasIcons,\n      contextualMenuItemAs = _a.contextualMenuItemAs,\n      expandedMenuItemKey = _a.expandedMenuItemKey,\n      onItemMouseDown = _a.onItemMouseDown,\n      onItemClick = _a.onItemClick,\n      openSubMenu = _a.openSubMenu,\n      dismissSubMenu = _a.dismissSubMenu,\n      dismissMenu = _a.dismissMenu;\n    var ChildrenRenderer = ContextualMenuItem;\n    if (item.contextualMenuItemAs) {\n      ChildrenRenderer = composeComponentAs(item.contextualMenuItemAs, ChildrenRenderer);\n    }\n    if (contextualMenuItemAs) {\n      ChildrenRenderer = composeComponentAs(contextualMenuItemAs, ChildrenRenderer);\n    }\n    var isChecked = getIsChecked(item);\n    var canCheck = isChecked !== null;\n    var defaultRole = getMenuItemAriaRole(item);\n    var itemHasSubmenu = hasSubmenu(item);\n    var itemProps = item.itemProps,\n      ariaLabel = item.ariaLabel,\n      ariaDescription = item.ariaDescription;\n    var buttonNativeProperties = getNativeProps(item, buttonProperties);\n    // Do not add the disabled attribute to the button so that it is focusable\n    delete buttonNativeProperties.disabled;\n    var itemRole = item.role || defaultRole;\n    // Check for ariaDescription to set the _ariaDescriptionId and render a hidden span with\n    // the description in it to be added to ariaDescribedBy\n    if (ariaDescription) {\n      this._ariaDescriptionId = getId();\n    }\n    var ariaDescribedByIds = mergeAriaAttributeValues(item.ariaDescribedBy, ariaDescription ? this._ariaDescriptionId : undefined, buttonNativeProperties['aria-describedby']);\n    var itemButtonProperties = {\n      className: classNames.root,\n      onClick: this._onItemClick,\n      onKeyDown: itemHasSubmenu ? this._onItemKeyDown : undefined,\n      onMouseEnter: this._onItemMouseEnter,\n      onMouseLeave: this._onItemMouseLeave,\n      onMouseDown: function (ev) {\n        return onItemMouseDown ? onItemMouseDown(item, ev) : undefined;\n      },\n      onMouseMove: this._onItemMouseMove,\n      href: item.href,\n      title: item.title,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedByIds,\n      'aria-haspopup': itemHasSubmenu || undefined,\n      'aria-expanded': itemHasSubmenu ? item.key === expandedMenuItemKey : undefined,\n      'aria-posinset': focusableElementIndex + 1,\n      'aria-setsize': totalItemCount,\n      'aria-disabled': isItemDisabled(item),\n      'aria-checked': (itemRole === 'menuitemcheckbox' || itemRole === 'menuitemradio') && canCheck ? !!isChecked : undefined,\n      'aria-selected': itemRole === 'menuitem' && canCheck ? !!isChecked : undefined,\n      role: itemRole,\n      // eslint-disable-next-line deprecation/deprecation\n      style: item.style\n    };\n    var keytipProps = item.keytipProps;\n    if (keytipProps && itemHasSubmenu) {\n      keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n    }\n    return React.createElement(KeytipData, {\n      keytipProps: keytipProps,\n      ariaDescribedBy: ariaDescribedByIds,\n      disabled: isItemDisabled(item)\n    }, function (keytipAttributes) {\n      return React.createElement(\"button\", __assign({\n        ref: _this._btn\n      }, buttonNativeProperties, itemButtonProperties, keytipAttributes), React.createElement(ChildrenRenderer, __assign({\n        componentRef: item.componentRef,\n        item: item,\n        classNames: classNames,\n        index: index,\n        onCheckmarkClick: hasCheckmarks && onItemClick ? onItemClick : undefined,\n        hasIcons: hasIcons,\n        openSubMenu: openSubMenu,\n        dismissSubMenu: dismissSubMenu,\n        dismissMenu: dismissMenu,\n        getSubmenuTarget: _this._getSubmenuTarget\n      }, itemProps)), _this._renderAriaDescription(ariaDescription, classNames.screenReaderText));\n    });\n  };\n  return ContextualMenuButton;\n}(ContextualMenuItemWrapper);\nexport { ContextualMenuButton };","map":{"version":3,"names":["React","buttonProperties","getNativeProps","memoizeFunction","getId","mergeAriaAttributeValues","composeComponentAs","ContextualMenuItemWrapper","KeytipData","getIsChecked","isItemDisabled","hasSubmenu","getMenuItemAriaRole","ContextualMenuItem","ContextualMenuButton","_super","__extends","_this","apply","arguments","_btn","createRef","_getMemoizedMenuButtonKeytipProps","keytipProps","__assign","hasMenu","_renderAriaDescription","ariaDescription","className","createElement","id","_ariaDescriptionId","_getSubmenuTarget","current","undefined","prototype","render","_a","props","item","classNames","index","focusableElementIndex","totalItemCount","hasCheckmarks","hasIcons","contextualMenuItemAs","expandedMenuItemKey","onItemMouseDown","onItemClick","openSubMenu","dismissSubMenu","dismissMenu","ChildrenRenderer","isChecked","canCheck","defaultRole","itemHasSubmenu","itemProps","ariaLabel","buttonNativeProperties","disabled","itemRole","role","ariaDescribedByIds","ariaDescribedBy","itemButtonProperties","root","onClick","_onItemClick","onKeyDown","_onItemKeyDown","onMouseEnter","_onItemMouseEnter","onMouseLeave","_onItemMouseLeave","onMouseDown","ev","onMouseMove","_onItemMouseMove","href","title","key","style","keytipAttributes","ref","componentRef","onCheckmarkClick","getSubmenuTarget","screenReaderText"],"sources":["/workspaces/ZapVibes/client/node_modules/@fluentui/react/lib/components/ContextualMenu/src/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  buttonProperties,\n  getNativeProps,\n  memoizeFunction,\n  getId,\n  mergeAriaAttributeValues,\n  IComponentAs,\n  composeComponentAs,\n} from '../../../Utilities';\nimport { ContextualMenuItemWrapper } from './ContextualMenuItemWrapper';\nimport { KeytipData } from '../../../KeytipData';\nimport { getIsChecked, isItemDisabled, hasSubmenu, getMenuItemAriaRole } from '../../../utilities/contextualMenu/index';\nimport { ContextualMenuItem } from '../ContextualMenuItem';\nimport type { IKeytipDataProps } from '../../../KeytipData';\nimport type { IKeytipProps } from '../../../Keytip';\nimport { IContextualMenuItemProps } from '../ContextualMenuItem.types';\n\nexport class ContextualMenuButton extends ContextualMenuItemWrapper {\n  private _btn = React.createRef<HTMLButtonElement>();\n  private _ariaDescriptionId: string;\n\n  private _getMemoizedMenuButtonKeytipProps = memoizeFunction((keytipProps: IKeytipProps) => {\n    return {\n      ...keytipProps,\n      hasMenu: true,\n    };\n  });\n\n  public render() {\n    const {\n      item,\n      classNames,\n      index,\n      focusableElementIndex,\n      totalItemCount,\n      hasCheckmarks,\n      hasIcons,\n      contextualMenuItemAs,\n      expandedMenuItemKey,\n      onItemMouseDown,\n      onItemClick,\n      openSubMenu,\n      dismissSubMenu,\n      dismissMenu,\n    } = this.props;\n\n    let ChildrenRenderer: IComponentAs<IContextualMenuItemProps> = ContextualMenuItem;\n\n    if (item.contextualMenuItemAs) {\n      ChildrenRenderer = composeComponentAs(item.contextualMenuItemAs, ChildrenRenderer);\n    }\n\n    if (contextualMenuItemAs) {\n      ChildrenRenderer = composeComponentAs(contextualMenuItemAs, ChildrenRenderer);\n    }\n\n    const isChecked: boolean | null | undefined = getIsChecked(item);\n    const canCheck: boolean = isChecked !== null;\n    const defaultRole = getMenuItemAriaRole(item);\n    const itemHasSubmenu = hasSubmenu(item);\n    const { itemProps, ariaLabel, ariaDescription } = item;\n\n    const buttonNativeProperties = getNativeProps<React.ButtonHTMLAttributes<HTMLButtonElement>>(\n      item,\n      buttonProperties,\n    );\n    // Do not add the disabled attribute to the button so that it is focusable\n    delete buttonNativeProperties.disabled;\n\n    const itemRole = item.role || defaultRole;\n\n    // Check for ariaDescription to set the _ariaDescriptionId and render a hidden span with\n    // the description in it to be added to ariaDescribedBy\n    if (ariaDescription) {\n      this._ariaDescriptionId = getId();\n    }\n    const ariaDescribedByIds = mergeAriaAttributeValues(\n      item.ariaDescribedBy,\n      ariaDescription ? this._ariaDescriptionId : undefined,\n      buttonNativeProperties['aria-describedby'],\n    );\n\n    const itemButtonProperties = {\n      className: classNames.root,\n      onClick: this._onItemClick,\n      onKeyDown: itemHasSubmenu ? this._onItemKeyDown : undefined,\n      onMouseEnter: this._onItemMouseEnter,\n      onMouseLeave: this._onItemMouseLeave,\n      onMouseDown: (ev: React.MouseEvent<HTMLButtonElement>) =>\n        onItemMouseDown ? onItemMouseDown(item, ev) : undefined,\n      onMouseMove: this._onItemMouseMove,\n      href: item.href,\n      title: item.title,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedByIds,\n      'aria-haspopup': itemHasSubmenu || undefined,\n      'aria-expanded': itemHasSubmenu ? item.key === expandedMenuItemKey : undefined,\n      'aria-posinset': focusableElementIndex + 1,\n      'aria-setsize': totalItemCount,\n      'aria-disabled': isItemDisabled(item),\n      'aria-checked':\n        (itemRole === 'menuitemcheckbox' || itemRole === 'menuitemradio') && canCheck ? !!isChecked : undefined,\n      'aria-selected': itemRole === 'menuitem' && canCheck ? !!isChecked : undefined,\n      role: itemRole,\n      // eslint-disable-next-line deprecation/deprecation\n      style: item.style,\n    };\n\n    let { keytipProps } = item;\n    if (keytipProps && itemHasSubmenu) {\n      keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n    }\n\n    return (\n      <KeytipData keytipProps={keytipProps} ariaDescribedBy={ariaDescribedByIds} disabled={isItemDisabled(item)}>\n        {(keytipAttributes: IKeytipDataProps): JSX.Element => (\n          <button ref={this._btn} {...buttonNativeProperties} {...itemButtonProperties} {...keytipAttributes}>\n            <ChildrenRenderer\n              componentRef={item.componentRef}\n              item={item}\n              classNames={classNames}\n              index={index}\n              onCheckmarkClick={hasCheckmarks && onItemClick ? onItemClick : undefined}\n              hasIcons={hasIcons}\n              openSubMenu={openSubMenu}\n              dismissSubMenu={dismissSubMenu}\n              dismissMenu={dismissMenu}\n              getSubmenuTarget={this._getSubmenuTarget}\n              {...itemProps}\n            />\n            {this._renderAriaDescription(ariaDescription, classNames.screenReaderText)}\n          </button>\n        )}\n      </KeytipData>\n    );\n  }\n\n  protected _renderAriaDescription = (ariaDescription?: string, className?: string) => {\n    // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan\n    return ariaDescription ? (\n      <span id={this._ariaDescriptionId} className={className}>\n        {ariaDescription}\n      </span>\n    ) : null;\n  };\n\n  protected _getSubmenuTarget = (): HTMLElement | undefined => {\n    return this._btn.current ? this._btn.current : undefined;\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}